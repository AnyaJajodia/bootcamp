# Django Starter Project

## Links

[Django](https://www.djangoproject.com)
[Django DRF](https://www.django-rest-framework.org)
[Bootstrap Template](https://getbootstrap.com)
[VS Code Django Tutorial](https://code.visualstudio.com/docs/python/tutorial-django)

## New Project and App Setup

1. Create a Python Virtual Environment

`cd bootcamp/starter/django/`
`python3.9 -m venv venv`
`source venv/bin/activate`

2. Install Django

`pip install --upgrade pip`
`pip install django`
`pip freeze > requirements.txt`
`python -m django --version`

or install all requisites
`pip install -r ./site/requirements.txt`

3. Create Django Project, and app

`django-admin startproject businessproject`
`mv businessproject src`
`cd src`
`python manage.py startapp contacts`

Note:
Changing the top-level folder name from the project name 'businessproject' to 'src' is optional.


4. Migrate changes to database

`python manage.py migrate`

5. Run development server

``` bash
python manage.py runserver
```

6. Open default project page [http://127.0.0.1:8000/](http://127.0.0.1:8000/)

## BusinessProject and Contacts App

A project is a collection of apps and configuration settings. An app is self-contained and pluggable into any project. Some apps might have dependencies to other apps e.g. model definitions

### Add the contacts app to the project

Edit file starter/django/src/businessproject/settings.py
Add app name to 'INSTALLED_APPS' section

### Create a Contact model in the contacts app

Edit starter/django/src/contacts/models.py
Add Contact model, with the following fields

- Name
- Email
- Mobile
- Company
- Designation
- Notes

### Create views for Contact model in the contacts app

Edit starter/django/src/contacts/views.py
Add CRUD functions index, create, edit, delete

### Migrate app

`python manage.py makemigrations`
`python manage.py migrate`

To check SQL generated by above commands

`python manage.py sqlmigrate polls 0001`

### Django Admin

Create superuser

[Django admin panel](http://127.0.0.1:8080/admin)
`python manage.py createsuperuser`
Add models to admin

### Check for problems without making changes

`python manage.py check`

### Check models API

`python manage.py shell`

### Templates

App Template Folder: starter/django/src/contacts/templates/contacts
App Static folder: starter/django/src/contacts/static/cloudwrk

App Template folder will contain all the HTML files ONLY.
Asset files e.g. JS, CSS, Images etc are in the static folder 

### Static Content

Collate /static directory
`python manage.py collectstatic`

## API app (REST API)

`python manage.py startapp api`
`pip install djangorestframework`
